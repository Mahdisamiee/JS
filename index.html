<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Asynchronous JavaScript</title>
</head>
<body>
    <h1>Asynchronous JavaScript</h1>
    <script>
      //  const getID = new Promise((resolve, reject)=>{
      //    setTimeout(() => {
      //      resolve([120,432,987,2323]);
      //    }, 1500);
      //  }) 

      //  const getRecipe = (ID) => {
      //    return new Promise((resolve, reject)=>{
      //     setTimeout((id) => {
      //      const recipe = {title: "get new pitzza", publisher: 'mahdi samieenia'};
      //      resolve(`${id}: ${recipe.title}`);
      //     }, 1500, ID);
      //    })
      //  }

      //  const getRelated = (publisher)=>{
      //    return new Promise((resolve, reject)=>{
      //      setTimeout((pub) => {
      //       const recipe = {title: "doing", publisher: 'mahdi samieenia'};
      //       resolve(`${pub} : ${recipe.title}`);
      //       // reject(new Error("gogh"))
      //      }, 1500, publisher);
      //    })
      //  }

      //  getID.then((response)=>{
      //    console.log(response);
      //    return getRecipe(response[2]);
      //  }).then((recipe)=>{
      //    console.log(recipe);
      //    return getRelated('mahdi samieenia');
      //  }).then((recipe)=>{
      //    console.log(recipe);
      //  })
      //  .catch((err)=>{
      //    console.error(err);
      //  })
        // async function getRecipes() {
        //   let ID = await getID
        //   console.log(ID);
        //   let recipe = await getRecipe(ID[2]);
        //   console.log(recipe);
        //   let related = await getRelated("mahdi samieenia");
        //   console.log(related);
        //   return "done"
        // }

        // getRecipes()
        // .then(result => console.log(result))
        // .catch((err)=> console.log(err.message))


      const req = new Request('vwoBl0x8.jpg');
      const req2 = new Request('readme.txt');

      async function img() {
        let data = await fetch(req);
        console.log(data);
        let parsedData = await data.blob();
        console.log("2. ", parsedData)

        let url = URL.createObjectURL(parsedData);
        console.log(url)
        let img = document.createElement('img');
        img.src = url;
        document.body.append(img);

      }
      async function text() {
        let data = await fetch(req2)
        console.log(data)
        let parsedData = await data.text();
        console.log(parsedData)
      }
      // img()
      text();
      



    </script>
</html>
